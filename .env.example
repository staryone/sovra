# ============================================
# SOVRA: A Sovereign & Self-Evolving AI Agent
# Environment Configuration Template
# ============================================

# --- Core LLM Configuration ---
# Using 1.5B model for maximum speed on CPU (Qwen2.5 is very smart for its size)
SOVRA_MODEL=qwen2.5:1.5b
# Local LLM Context (8K is balanced for CPU speed/memory)
SOVRA_CONTEXT_LENGTH=8192
# Timeout in seconds (600s = 10m for CPU inference)
OLLAMA_TIMEOUT=600
OLLAMA_HOST=http://localhost:11434

# --- External API (optional, for smart routing) ---
# At least one provider is needed for Level 3 routing.
# All providers are tried in order: OpenAI → Anthropic → Kimi → OpenRouter

# OpenAI
OPENAI_API_KEY=sk-your-key-here
OPENAI_API_BASE=https://api.openai.com/v1
OPENAI_MODEL=gpt-4o-mini

# Anthropic
ANTHROPIC_API_KEY=sk-ant-your-key-here
ANTHROPIC_MODEL=claude-3-haiku-20240307

# Kimi (Moonshot AI) — https://platform.moonshot.cn
KIMI_API_KEY=sk-your-kimi-key-here
KIMI_API_BASE=https://api.moonshot.cn/v1
KIMI_MODEL=moonshot-v1-8k

# OpenRouter — https://openrouter.ai
OPENROUTER_API_KEY=sk-or-your-key-here
OPENROUTER_API_BASE=https://openrouter.ai/api/v1
OPENROUTER_MODEL=meta-llama/llama-3-8b-instruct

# --- Smart Router ---
ROUTER_CONFIDENCE_THRESHOLD=0.7
ROUTER_MAX_EXTERNAL_CALLS_PER_DAY=50
ROUTER_EXTERNAL_TIMEOUT=30

# --- RAG / Memory ---
CHROMADB_PATH=./data/chromadb
EMBEDDING_MODEL=nomic-embed-text
RAG_TOP_K=5
RAG_CHUNK_SIZE=512
RAG_CHUNK_OVERLAP=50
MEMORY_SHORT_TERM_SIZE=20
MEMORY_CONSOLIDATION_INTERVAL_HOURS=24

# --- Self-Evolution ---
EVOLUTION_MIN_SAMPLES=200
EVOLUTION_SCHEDULE_HOURS=168
LORA_RANK=16
LORA_ALPHA=32
LORA_DROPOUT=0.05
LORA_TARGET_MODULES=q_proj,v_proj
EVOLUTION_AUTO_DEPLOY=true
EVOLUTION_ROLLBACK_ON_QUALITY_DROP=true

# --- Autonomy ---
AUTONOMY_LEVEL=full
AUTONOMY_MAX_RETRIES=3
AUTONOMY_TASK_QUEUE_PATH=./data/task_queue.json
SCHEDULER_HEALTH_CHECK_INTERVAL_HOURS=24
SCHEDULER_MEMORY_CONSOLIDATION_HOURS=168

# --- OpenClaw Gateway ---
OPENCLAW_PORT=3000
OPENCLAW_HOST=localhost

# --- Logging ---
LOG_LEVEL=INFO
LOG_FILE=./data/logs/sovra.log
INTERACTION_LOG_PATH=./data/training/interactions.jsonl
